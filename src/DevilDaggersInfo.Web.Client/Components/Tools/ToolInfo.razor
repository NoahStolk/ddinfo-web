@using DevilDaggersInfo.Core.Common
@using DevilDaggersInfo.Web.ApiSpec.Main.Tools
<div class="bg-gray-1 max-w-sm">
	<DataField CssClass="px-1" Left="3" Name="Current version">@GetTool.VersionNumber</DataField>
	<DataField CssClass="px-1" Left="3" Name="Oldest supported version">@GetTool.VersionNumberRequired</DataField>
	
	@{
		string total = GetTool.DownloadCounts.Sum(v => v.Count).ToString("N0");
	}
	@if (ShowDownloadCountNote)
	{
		<DataField CssClass="px-1" Left="3" Name="@($"Total downloads (since {Constants.TrackingToolDownloadCounts.ToString(StringFormats.DateFormat)})")">@total</DataField>
	}
	else
	{
		<DataField CssClass="px-1" Left="3" Name="Total downloads">@total</DataField>
	}
</div>

@code
{
	[Parameter]
	[EditorRequired]
	public required GetTool GetTool { get; set; }

	[Parameter]
	[EditorRequired]
	public required bool ShowDownloadCountNote { get; set; }
}
