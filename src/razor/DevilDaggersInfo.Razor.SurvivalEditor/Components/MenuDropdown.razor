@using DevilDaggersInfo.Razor.Core.Components.Components

<OutsideClickHandler OnClickOutside="Hide">
	<div class="w-auto select-none">
		<div class="cursor-pointer px-2 bg-gray-2 hover:bg-gray-5" @onclick="() => _show = !_show">@Header</div>
		<div class="w-auto absolute @(_show ? null : "hidden")">
			@ChildContent
		</div>
	</div>
</OutsideClickHandler>

@code
{
	private bool _show;

	[EditorRequired]
	[Parameter]
	public string Header { get; set; } = null!;

	[Parameter]
	public RenderFragment ChildContent { get; set; } = null!;

	private void Hide()
	{
		_show = false;
		StateHasChanged();
	}
}
