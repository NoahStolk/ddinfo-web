@using DevilDaggersInfo.Web.Core.CriteriaExpression
@using DevilDaggersInfo.Web.Core.CriteriaExpression.Parts
@using DevilDaggersInfo.Types.Web.Extensions

<span style="color: @CriteriaType.GetColor()">@CriteriaType.Display()</span>
	<span>must be</span>
	<span style="color: @CriteriaOperator.GetColor()">@CriteriaOperator.Display()</span>

	@MarkupStrings.Space

	@foreach (IExpressionPart expressionPart in Expression.Parts)
	{
		switch (expressionPart)
		{
			case ExpressionOperator op:
				<span style="color: #088">@op.ToString()</span>
				break;
			case ExpressionTarget target:
				<span style="color: @target.Target.GetColor()">@target.ToString()</span>
				break;
			case ExpressionValue value:
				<span style="color: #0f8">@value.ToString()</span>
				break;
		}

		@MarkupStrings.Space
	}

@code {
	[Parameter]
	[EditorRequired]
	public Expression Expression { get; set; } = null!;
	
	[Parameter]
	[EditorRequired]
	public CustomLeaderboardCriteriaType CriteriaType { get; set; }
	
	[Parameter]
	[EditorRequired]
	public CustomLeaderboardCriteriaOperator CriteriaOperator { get; set; }
}
