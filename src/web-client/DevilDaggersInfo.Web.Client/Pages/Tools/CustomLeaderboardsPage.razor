@page "/tools/custom-leaderboards"
@using DevilDaggersInfo.Api.Main.CustomLeaderboards
@using DevilDaggersInfo.Api.Main.Tools
@using DevilDaggersInfo.Common
@using DevilDaggersInfo.Web.Client.Components
@using DevilDaggersInfo.Web.Client.Components.Tools
@using DevilDaggersInfo.Web.Client.HttpClients
@inject MainApiHttpClient Http

<Heading Title="Devil Daggers Custom Leaderboards" />

@if (GetTool == null || GetTotalCustomLeaderboardData == null)
{
	<Loading />
}
else
{
	<Heading Title="IMPORTANT" Level="2" />
	<p class="para">This tool has been deprecated in favor of <a class="link" href="/tools">DDINFO TOOLS</a> and can no longer be used.</p>

	<img src="/images/tools/ddcl.png" class="object-contain max-h-160 pt-3" alt="Custom Leaderboards" />

	<Heading Title="Features" Level="2" />
	<ul class="pl-4">
		<li class="list-disc">Participate in @GetTotalCustomLeaderboardData.LeaderboardsPerCategory.Sum(dict => dict.Value).ToString("N0") different custom leaderboards</li>
		<li class="list-disc">@GetTotalCustomLeaderboardData.PlayersPerCategory.Values.Sum().ToString("N0") players</li>
		<li class="list-disc">@GetTotalCustomLeaderboardData.ScoresPerCategory.Values.Sum().ToString("N0") scores</li>
		<li class="list-disc">@GetTotalCustomLeaderboardData.SubmitsPerCategory.Values.Sum().ToString("N0") total submissions (since @Constants.TrackingCustomLeaderboardSubmitCounts.ToString(StringFormats.DateFormat))</li>
	</ul>

	<Heading Title="System Requirements" Level="2" />
	<ul class="pl-4">
		<li class="list-disc">64-bit</li>
	</ul>

	<RunInfo />
	<SourceInfo Url="https://github.com/NoahStolk/DevilDaggersCustomLeaderboards" />
	
	<Heading Title="Changelog" Level="2" />
	<Heading Title="@($"Deprecated - {new DateTime(2023, 3, 31).ToString(StringFormats.DateFormat)}")" Level="3" />
	<ul class="pl-4">
		<li class="list-disc">The tool has been deprecated in favor of <a class="link" href="/tools">DDINFO TOOLS</a>.</li>
	</ul>
	<Versions ToolVersions="GetTool.Changelog" />
}

@code
{
	public GetTool? GetTool { get; set; }
	public GetTotalCustomLeaderboardData? GetTotalCustomLeaderboardData { get; set; }

	protected override async Task OnInitializedAsync()
	{
		GetTool = await Http.GetTool("DevilDaggersCustomLeaderboards");
		GetTotalCustomLeaderboardData = await Http.GetTotalCustomLeaderboardData();
	}
}
